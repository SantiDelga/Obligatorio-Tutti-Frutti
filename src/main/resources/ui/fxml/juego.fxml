<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>
<?import javafx.geometry.Insets?>

<?import javafx.collections.FXCollections?>
<?import java.lang.String?>
<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="uy.edu.tuttifrutti.ui.juego.JuegoController">

    <!-- ======================= TOP ======================= -->
    <top>
        <HBox spacing="20" alignment="CENTER" BorderPane.alignment="CENTER">
            <padding>
                <Insets top="15" right="20" bottom="10" left="20"/>
            </padding>
            <children>

                <!-- Logo -->
                <ImageView fitHeight="55" preserveRatio="true">
                    <image>
                        <Image url="@../images/logo-tuttifrutti.png"/>
                    </image>
                </ImageView>

                <Pane HBox.hgrow="ALWAYS"/>

                <!-- Hexágono simplificado con LETRA y ronda -->
                <VBox alignment="CENTER">
                    <StackPane styleClass="config-hex-container">
                        <Label fx:id="letraLabel"
                               text="A"
                               styleClass="letra-hex-label"/>
                    </StackPane>
                    <Label fx:id="rondaLabel"
                           text="Rondas: 1 / 1"
                           styleClass="hint-label"/>
                </VBox>

                <Pane HBox.hgrow="ALWAYS"/>

                <!-- Botón SALIR -->
                <Button text="SALIR X"
                        onAction="#onSalir"
                        styleClass="pill-button-danger"/>
            </children>
        </HBox>
    </top>

    <!-- ======================= CENTRO ======================= -->
    <center>
        <HBox spacing="20" alignment="CENTER">
            <padding>
                <Insets top="10" right="20" bottom="10" left="20"/>
            </padding>
            <children>

                <!-- Panel IZQUIERDO: jugadores conectados -->
                <VBox spacing="10"
                      prefWidth="220"
                      styleClass="side-panel">
                    <children>
                        <Label text="JUGADORES" styleClass="panel-title" />

                        <TextArea fx:id="jugadoresArea"
                                  editable="false"
                                  wrapText="true"
                                  prefHeight="360"
                                  prefWidth="200" />
                    </children>
                </VBox>


                <!-- Panel CENTRAL: categorías -->
                <VBox spacing="15"
                      prefWidth="420"
                      styleClass="center-panel">
                    <children>
                        <Label text="CATEGORÍAS" styleClass="panel-title"/>

                        <!-- Grid con campos de categorías (lo llena el controller) -->
                        <GridPane fx:id="categoriasGrid"
                                  hgap="12" vgap="12">
                            <padding>
                                <Insets top="10" right="10" bottom="10" left="10"/>
                            </padding>
                        </GridPane>
                    </children>
                </VBox>

                <!-- Panel DERECHO: resultado / chat -->
                <VBox spacing="10"
                      prefWidth="260"
                      styleClass="side-panel">
                    <children>
                        <Label text="RESULTADO" styleClass="panel-title"/>
                        <TextArea fx:id="resultadoArea"
                                  prefWidth="240"
                                  prefHeight="360"
                                  wrapText="true"
                                  editable="false"
                                  styleClass="result-area"/>
                    </children>
                </VBox>

            </children>
        </HBox>
    </center>

    <!-- ======================= BOTTOM ======================= -->
    <bottom>
        <VBox spacing="10" BorderPane.alignment="CENTER">
            <padding>
                <Insets top="5" bottom="20" left="40" right="40"/>
            </padding>
            <children>

                <!-- Barra de tiempo -->
                <HBox alignment="CENTER">
                    <children>
                        <Label text="Tiempo" styleClass="panel-title"/>
                        <ProgressBar fx:id="tiempoBar"
                                     HBox.hgrow="ALWAYS"
                                     prefWidth="500"
                                     styleClass="tiempo-bar"/>
                    </children>
                    <spacing>10</spacing>
                </HBox>

                <!-- Botones -->
                <HBox alignment="CENTER" spacing="20">
                    <children>
                        <Button fx:id="tuttiFruttiButton"
                                text="TUTTI FRUTTI"
                                onAction="#onTuttiFrutti"
                                styleClass="tutti-button"/>

                        <Button fx:id="rendirseButton"
                                text="ME RINDO"
                                onAction="#onRendirse"
                                styleClass="tutti-button"/>

                        <Button fx:id="reintentarButton"
                                text="REINTENTAR"
                                onAction="#onReintentar"
                                visible="false"
                                managed="false"
                                styleClass="tutti-button"/>
                    </children>
                </HBox>
            </children>
        </VBox>
    </bottom>

</BorderPane>
