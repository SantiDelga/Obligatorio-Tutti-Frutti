<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="uy.edu.tuttifrutti.ui.config.ConfigSalaController">

    <!-- TOP: logo, nombre sala y botón SALIR -->
    <top>
        <HBox spacing="20" alignment="CENTER" BorderPane.alignment="CENTER">
            <padding>
                <Insets top="15" right="20" bottom="10" left="20"/>
            </padding>
            <children>
                <!-- Logo -->
                <ImageView fitHeight="60" preserveRatio="true">
                    <image>
                        <Image url="@../images/logo-tuttifrutti.png"/>
                    </image>
                </ImageView>

                <Pane HBox.hgrow="ALWAYS"/>

                <!-- Hexágono con engranaje (representado con botón/label) -->
                <StackPane styleClass="config-hex-container">
                    <Label text="⚙" styleClass="config-hex-gear"/>
                </StackPane>

                <Pane HBox.hgrow="ALWAYS"/>

                <!-- Botón SALIR -->
                <Button text="SALIR X"
                        onAction="#onSalir"
                        styleClass="pill-button-danger"/>
            </children>
        </HBox>
    </top>

    <!-- CENTER: HBox con las 3 tarjetas (JUGADORES | PANEL CENTRAL | CHAT) -->
    <center>
        <HBox spacing="20" alignment="CENTER" BorderPane.alignment="CENTER">
            <padding>
                <Insets top="20" right="20" bottom="20" left="20"/>
            </padding>
            <children>

                <!-- TARJETA IZQUIERDA: jugadores -->
                <VBox spacing="10" styleClass="side-panel">
                    <padding>
                        <Insets top="20" right="20" bottom="20" left="20"/>
                    </padding>
                    <children>
                        <Label text="JUGADORES" styleClass="panel-title"/>

                        <ComboBox fx:id="comboJugadores"
                                  prefWidth="180"
                                  styleClass="selector-pill"/>

                        <ListView fx:id="listaJugadores"
                                  prefWidth="200"
                                  prefHeight="350"
                                  styleClass="list-jugadores"/>
                    </children>
                </VBox>

                <!-- TARJETA CENTRAL: rondas, tiempo, temas, letras -->
                <VBox spacing="15" styleClass="center-panel">
                    <padding>
                        <Insets top="20" right="20" bottom="20" left="20"/>
                    </padding>

                    <children>
                        <!-- Rondas y tiempo -->
                        <HBox spacing="40" alignment="CENTER">
                            <children>
                                <VBox spacing="5" alignment="CENTER">
                                    <Label text="RONDAS" styleClass="panel-title"/>
                                    <ComboBox fx:id="comboRondas"
                                              prefWidth="150"
                                              styleClass="selector-pill"/>
                                </VBox>

                                <VBox spacing="5" alignment="CENTER">
                                    <Label text="TIEMPO" styleClass="panel-title"/>
                                    <ComboBox fx:id="comboTiempo"
                                              prefWidth="150"
                                              styleClass="selector-pill"/>
                                </VBox>
                            </children>
                        </HBox>

                        <!-- Temas -->
                        <VBox spacing="8" alignment="CENTER">
                            <Label text="TEMAS" styleClass="panel-title"/>
                            <GridPane fx:id="gridTemas" hgap="8" vgap="8">
                                <padding>
                                    <Insets top="10" right="10" bottom="10" left="10"/>
                                </padding>
                                <!-- Se llena desde el controlador -->
                            </GridPane>
                            <Label fx:id="lblTemasSeleccionados"
                                   text="Selecciona hasta 10 temas"
                                   styleClass="hint-label"/>
                        </VBox>

                        <!-- Letras -->
                        <VBox spacing="8" alignment="CENTER">
                            <Label text="LETRAS" styleClass="panel-title"/>
                            <FlowPane fx:id="flowLetras"
                                      hgap="8" vgap="8"
                                      alignment="CENTER"/>
                            <Label text="Selecciona las letras que entran en el juego"
                                   styleClass="hint-label"/>
                        </VBox>
                    </children>
                </VBox>

                <!-- TARJETA DERECHA: Chat / info -->
                <VBox spacing="10" styleClass="side-panel">
                    <padding>
                        <Insets top="20" right="20" bottom="20" left="20"/>
                    </padding>
                    <children>
                        <Label text="CHAT / INFO" styleClass="panel-title"/>
                        <TextArea fx:id="txtChatInfo"
                                  prefWidth="220"
                                  prefHeight="360"
                                  wrapText="true"
                                  editable="false"
                                  styleClass="result-area"/>
                    </children>
                </VBox>

            </children>
        </HBox>
    </center>

    <!-- BOTTOM: botón EMPEZAR -->
    <bottom>
        <HBox alignment="CENTER" BorderPane.alignment="CENTER">
            <padding>
                <Insets top="10" right="0" bottom="20" left="0"/>
            </padding>
            <children>
                <Button text="EMPEZAR"
                        onAction="#onEmpezar"
                        styleClass="start-button"/>
            </children>
        </HBox>
    </bottom>
</BorderPane>
